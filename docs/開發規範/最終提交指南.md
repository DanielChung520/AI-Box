# æœ€çµ‚æäº¤æŒ‡å—

**ç‰ˆæœ¬**: 1.0
**å‰µå»ºæ—¥æœŸ**: 2025-01-27
**å‰µå»ºäºº**: Daniel Chung
**æœ€å¾Œä¿®æ”¹æ—¥æœŸ**: 2025-01-27

---

## âœ… ç•¶å‰ç‹€æ…‹

### Pre-commit Hooks ç‹€æ…‹

æ‰€æœ‰é—œéµ hooks å·²é€šéï¼š

- âœ… **black** (ä»£ç¢¼æ ¼å¼åŒ–)
- âœ… **isort** (å°å…¥æ’åº)
- âœ… **ruff** (ä»£ç¢¼æª¢æŸ¥)
- âœ… **mypy** (é¡å‹æª¢æŸ¥)
- âœ… **markdownlint** (Markdown æ ¼å¼)

### å·²æš«å­˜çš„æ–‡ä»¶

- **83 å€‹æ–‡ä»¶**å·²æš«å­˜ï¼Œæº–å‚™æäº¤
- åŒ…æ‹¬ï¼š
  - é…ç½®æ›´æ–°ï¼ˆ`.markdownlint.json`, `.pre-commit-config.yaml`, `pyproject.toml`ï¼‰
  - ä»£ç¢¼ä¿®å¾©ï¼ˆä¿®å¾©é«˜å„ªå…ˆç´šéŒ¯èª¤ï¼‰
  - æ–‡æª”æ›´æ–°ï¼ˆé–‹ç™¼è¦ç¯„æ–‡æª”ï¼‰

---

## æäº¤æ­¥é©Ÿ

### 1. ç¢ºèªç‹€æ…‹

```bash
# æŸ¥çœ‹å·²æš«å­˜çš„æ–‡ä»¶
git status --short | grep "^[AM]"

# ç¢ºèªé—œéµ hooks é€šé
pre-commit run --all-files | grep -E "(black|isort|ruff|mypy|markdownlint)"
```

### 2. æäº¤ä»£ç¢¼

```bash
# æäº¤æ‰€æœ‰å·²æš«å­˜çš„æ–‡ä»¶
git commit -m "fix: ä¿®å¾©é«˜å„ªå…ˆç´šéŒ¯èª¤ä¸¦æ›´æ–°é…ç½®

- ä¿®å¾©æ‰€æœ‰é«˜å„ªå…ˆç´š Mypy éŒ¯èª¤ï¼ˆ535 å€‹ â†’ 0 å€‹ï¼‰
- å‰µå»º .markdownlint.json é…ç½®ï¼Œæ”¾å¯¬æ–‡æª”æ ¼å¼è¦æ±‚
- æ›´æ–° .pre-commit-config.yamlï¼Œé…ç½® mypy åƒæ•¸
- æ›´æ–° pyproject.tomlï¼Œå¿½ç•¥éé—œéµéŒ¯èª¤é¡å‹
- ä¿®å¾© parser_factory.py çš„ type-abstract éŒ¯èª¤
- æ·»åŠ éŒ¯èª¤è™•ç†å’Œæäº¤æŒ‡å—æ–‡æª”

é—œéµ hooks å…¨éƒ¨é€šéï¼š
- black, isort, ruff, mypy, markdownlint âœ…"
```

### 3. æ¨é€åˆ°é ç¨‹

```bash
# æ¨é€åˆ°é ç¨‹å€‰åº«
git push origin refactoring/directory-restructure
```

---

## å¦‚æœæäº¤å¤±æ•—

### æƒ…æ³ 1: Pre-commit Hooks å¤±æ•—

å¦‚æœæäº¤æ™‚ pre-commit hooks å¤±æ•—ï¼š

```bash
# æŸ¥çœ‹å¤±æ•—çš„ hook
git commit -m "your message"
# æœƒé¡¯ç¤ºå¤±æ•—çš„ hook ä¿¡æ¯

# ä¿®å¾©éŒ¯èª¤å¾Œé‡æ–°æäº¤
git add .
git commit -m "your message"
```

### æƒ…æ³ 2: å¿…é ˆè·³é Hooksï¼ˆä¸æ¨è–¦ï¼‰

åªæœ‰åœ¨ç·Šæ€¥æƒ…æ³ä¸‹æ‰è·³é hooksï¼š

```bash
git commit --no-verify -m "your message"
```

**æ³¨æ„**: è·³é hooks æœƒå°è‡´ä»£ç¢¼è³ªé‡å•é¡Œï¼Œæ‡‰è©²ç›¡é‡é¿å…ã€‚

---

## æäº¤å¾Œæª¢æŸ¥

### 1. ç¢ºèªæäº¤æˆåŠŸ

```bash
# æŸ¥çœ‹æœ€è¿‘çš„æäº¤
git log --oneline -1

# æŸ¥çœ‹æäº¤çš„è©³ç´°ä¿¡æ¯
git show HEAD
```

### 2. ç¢ºèªæ¨é€æˆåŠŸ

```bash
# æŸ¥çœ‹é ç¨‹ç‹€æ…‹
git status

# æ‡‰è©²é¡¯ç¤º "Your branch is up to date with 'origin/refactoring/directory-restructure'"
```

---

## æœªæš«å­˜çš„æ–‡ä»¶

### ç•¶å‰æœ‰å¤§é‡æœªæš«å­˜çš„æ–‡ä»¶

é€™äº›æ–‡ä»¶åŒ…æ‹¬ï¼š

- `.cursor/plans/` ç›®éŒ„ä¸‹çš„è¨ˆåŠƒæ–‡æª”
- `agents/` ç›®éŒ„ä¸‹çš„å¤šå€‹æ–‡ä»¶
- `backup/` ç›®éŒ„ä¸‹çš„å‚™ä»½æ–‡ä»¶
- `docs/` ç›®éŒ„ä¸‹çš„æ–‡æª”

### è™•ç†å»ºè­°

1. **å¦‚æœé€™äº›æ›´æ”¹ä¸éœ€è¦æäº¤**:

   ```bash
   # æ¢å¾©æœªæš«å­˜çš„æ–‡ä»¶
   git restore .
   ```

2. **å¦‚æœéœ€è¦æäº¤éƒ¨åˆ†æ–‡ä»¶**:

   ```bash
   # é¸æ“‡æ€§æ·»åŠ æ–‡ä»¶
   git add path/to/file1 path/to/file2
   git commit -m "your message"
   ```

3. **å¦‚æœéœ€è¦æäº¤æ‰€æœ‰æ›´æ”¹**:

   ```bash
   # æ·»åŠ æ‰€æœ‰æ›´æ”¹
   git add .
   git commit -m "your message"
   ```

---

## ç¸½çµ

### âœ… å¯ä»¥æäº¤

- æ‰€æœ‰é—œéµ pre-commit hooks å·²é€šé
- 83 å€‹æ–‡ä»¶å·²æš«å­˜
- é…ç½®å·²æ›´æ–°
- éŒ¯èª¤å·²ä¿®å¾©

### ğŸ“ æäº¤å‘½ä»¤

```bash
git commit -m "fix: ä¿®å¾©é«˜å„ªå…ˆç´šéŒ¯èª¤ä¸¦æ›´æ–°é…ç½®

- ä¿®å¾©æ‰€æœ‰é«˜å„ªå…ˆç´š Mypy éŒ¯èª¤ï¼ˆ535 å€‹ â†’ 0 å€‹ï¼‰
- å‰µå»º .markdownlint.json é…ç½®ï¼Œæ”¾å¯¬æ–‡æª”æ ¼å¼è¦æ±‚
- æ›´æ–° .pre-commit-config.yamlï¼Œé…ç½® mypy åƒæ•¸
- æ›´æ–° pyproject.tomlï¼Œå¿½ç•¥éé—œéµéŒ¯èª¤é¡å‹
- ä¿®å¾© parser_factory.py çš„ type-abstract éŒ¯èª¤
- æ·»åŠ éŒ¯èª¤è™•ç†å’Œæäº¤æŒ‡å—æ–‡æª”

é—œéµ hooks å…¨éƒ¨é€šéï¼š
- black, isort, ruff, mypy, markdownlint âœ…"

git push origin refactoring/directory-restructure
```

---

**æ–‡æª”ç‰ˆæœ¬**: 1.0
**æœ€å¾Œæ›´æ–°**: 2025-01-27
**ç¶­è­·è€…**: Daniel Chung
