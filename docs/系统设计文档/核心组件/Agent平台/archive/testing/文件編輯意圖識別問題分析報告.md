# æ–‡ä»¶ç·¨è¼¯æ„åœ–è­˜åˆ¥å•é¡Œåˆ†æå ±å‘Š

**å‰µå»ºæ—¥æœŸ**ï¼š2026-01-08
**å‰µå»ºäºº**ï¼šDaniel Chung
**æœ€å¾Œä¿®æ”¹æ—¥æœŸ**ï¼š2026-01-08

---

## ğŸ“‹ å•é¡Œæ‘˜è¦

æ ¹æ“šæ¸¬è©¦åŠ‡æœ¬ï¼ˆ`æ–‡ä»¶ç·¨è¼¯æ„åœ–è­˜åˆ¥æ¸¬è©¦åŠ‡æœ¬.md`ï¼‰çš„æ¸¬è©¦çµæœï¼Œç™¼ç¾å…©å€‹ä¸»è¦å•é¡Œï¼š

1. **ä»»å‹™é¡å‹è­˜åˆ¥æˆåŠŸç‡ä½**ï¼š20/25 å€‹æ–‡ä»¶ç·¨è¼¯å ´æ™¯è¢«éŒ¯èª¤è­˜åˆ¥ç‚º `query` è€Œä¸æ˜¯ `execution`ï¼ˆåƒ… 20% æ­£ç¢ºç‡ï¼‰
2. **Agent èª¿ç”¨ç„¡ä¸€æˆåŠŸ**ï¼šæ‰€æœ‰ 25 å€‹æ–‡ä»¶ç·¨è¼¯å ´æ™¯éƒ½æ²’æœ‰èª¿ç”¨ `document-editing-agent`ï¼ˆ0% æˆåŠŸç‡ï¼‰

---

## ğŸ” å•é¡Œæ ¹æºåˆ†æ

### å•é¡Œ 1ï¼šä»»å‹™é¡å‹è­˜åˆ¥éŒ¯èª¤

#### ç¾ç‹€

- **é æœŸ**ï¼šæ–‡ä»¶ç·¨è¼¯ä»»å‹™æ‡‰è©²è¢«è­˜åˆ¥ç‚º `execution`
- **å¯¦éš›**ï¼šå¤§éƒ¨åˆ†å ´æ™¯è¢«è­˜åˆ¥ç‚º `query`
- **å½±éŸ¿å ´æ™¯**ï¼šFE-001, FE-003, FE-006 ~ FE-011, FE-013 ~ FE-015, FE-017 ~ FE-025ï¼ˆå…± 20 å€‹å ´æ™¯ï¼‰

#### æ ¹æœ¬åŸå› 

**1. TaskClassifier åˆ†é¡é‚è¼¯éæ–¼ä¿å®ˆ**

å¾ `agents/task_analyzer/analyzer.py` çš„ä»£ç¢¼çœ‹ï¼Œä»»å‹™é¡å‹æ˜¯é€šé `TaskClassifier` ä¾†åˆ†é¡çš„ï¼š

```python
classification = self.classifier.classify(
    request.task,
    request.context,
)
```

`TaskClassifier` å¯èƒ½å‚¾å‘æ–¼å°‡ä»»å‹™æ­¸é¡ç‚ºç°¡å–®æŸ¥è©¢ï¼ˆ`query`ï¼‰ï¼Œè€Œä¸æ˜¯åŸ·è¡Œä»»å‹™ï¼ˆ`execution`ï¼‰ã€‚

**2. Router LLM çš„ `intent_type` èˆ‡ TaskClassifier çš„ `task_type` ä¸ä¸€è‡´**

- Router LLM è¼¸å‡º `intent_type`ï¼ˆå¦‚ `execution`ã€`retrieval`ã€`conversation`ï¼‰
- TaskClassifier è¼¸å‡º `task_type`ï¼ˆå¦‚ `TaskType.EXECUTION`ã€`TaskType.QUERY`ï¼‰
- å…©è€…å¯èƒ½ä¸ä¸€è‡´ï¼Œå°è‡´æœ€çµ‚çš„ `task_type` éŒ¯èª¤

**3. æ–‡ä»¶ç·¨è¼¯é—œéµè©è­˜åˆ¥ä¸è¶³**

é›–ç„¶ Router LLM çš„ System Prompt ä¸­åŒ…å«äº†æ–‡ä»¶ç·¨è¼¯çš„è­˜åˆ¥é‚è¼¯ï¼Œä½†å¯èƒ½ï¼š

- LLM æ²’æœ‰æ­£ç¢ºç†è§£æ–‡ä»¶ç·¨è¼¯æ„åœ–
- é—œéµè©åŒ¹é…é‚è¼¯ä¸å¤ ç²¾ç¢º
- éœ€è¦æ›´æ˜ç¢ºçš„è¦å‰‡ä¾†è­˜åˆ¥æ–‡ä»¶ç·¨è¼¯ä»»å‹™

---

### å•é¡Œ 2ï¼šAgent èª¿ç”¨å¤±æ•—

#### ç¾ç‹€

- **é æœŸ**ï¼šæ–‡ä»¶ç·¨è¼¯ä»»å‹™æ‡‰è©²èª¿ç”¨ `document-editing-agent`
- **å¯¦éš›**ï¼šæ‰€æœ‰ 25 å€‹å ´æ™¯éƒ½æ²’æœ‰èª¿ç”¨ Agent
- **å½±éŸ¿å ´æ™¯**ï¼šFE-001 ~ FE-025ï¼ˆæ‰€æœ‰æ–‡ä»¶ç·¨è¼¯å ´æ™¯ï¼‰

#### æ ¹æœ¬åŸå› 

**1. Agent èª¿ç”¨ä¾è³´ `needs_agent=True`**

å¾ `agents/task_analyzer/decision_engine.py` çš„ä»£ç¢¼çœ‹ï¼ŒAgent çš„é¸æ“‡éœ€è¦ï¼š

```python
if router_decision.needs_agent and agent_candidates:
    # é¸æ“‡è©•åˆ†æœ€é«˜çš„ Agent
    best_agent = max(agent_candidates, key=lambda x: x.total_score)
    if best_agent.total_score >= 0.5:
        chosen_agent = best_agent.candidate_id
```

**å•é¡Œ**ï¼š

- Router LLM çš„ System Prompt ä¸­ï¼Œ`needs_agent` çš„å®šç¾©æ˜¯ï¼š"true ONLY if task requires multi-step planning, coordination, or complex workflow"
- æ–‡ä»¶ç·¨è¼¯ä»»å‹™å¯èƒ½è¢«åˆ¤æ–·ç‚ºä¸éœ€è¦ Agentï¼ˆåªéœ€è¦å·¥å…·ï¼‰ï¼Œå› æ­¤ `needs_agent=False`
- å³ä½¿ `needs_tools=True`ï¼Œç³»çµ±ä¹Ÿä¸æœƒèª¿ç”¨ Agentï¼Œåªæœƒèª¿ç”¨å·¥å…·

**2. Agent èƒ½åŠ›åŒ¹é…é‚è¼¯ç„¡æ³•è­˜åˆ¥æ–‡ä»¶ç·¨è¼¯ Agent**

å¾ `agents/task_analyzer/capability_matcher.py` çš„ä»£ç¢¼çœ‹ï¼ŒAgent åŒ¹é…é‚è¼¯æ˜¯ï¼š

```python
async def match_agents(
    self, router_decision: RouterDecision, context: Optional[Dict[str, Any]] = None
) -> List[CapabilityMatch]:
    if not router_decision.needs_agent:
        return []  # å¦‚æœä¸éœ€è¦ Agentï¼Œç›´æ¥è¿”å›ç©ºåˆ—è¡¨
```

**å•é¡Œ**ï¼š

- å¦‚æœ `needs_agent=False`ï¼Œ`match_agents()` ç›´æ¥è¿”å›ç©ºåˆ—è¡¨
- å³ä½¿ `document-editing-agent` å·²è¨»å†Šï¼Œä¹Ÿä¸æœƒè¢«åŒ¹é…åˆ°
- æ–‡ä»¶ç·¨è¼¯ä»»å‹™å¯èƒ½è¢«åˆ¤æ–·ç‚ºåªéœ€è¦å·¥å…·ï¼ˆ`needs_tools=True`ï¼‰ï¼Œä¸éœ€è¦ Agent

**3. å·¥å…·èˆ‡ Agent çš„æ··æ·†**

å¾ä»£ç¢¼é‚è¼¯çœ‹ï¼š

- **å·¥å…·ï¼ˆToolï¼‰**ï¼šç”¨æ–¼åŸ·è¡Œå–®ä¸€æ“ä½œï¼ˆå¦‚ `document_editing` å·¥å…·ï¼‰
- **Agent**ï¼šç”¨æ–¼åŸ·è¡Œè¤‡é›œçš„å¤šæ­¥é©Ÿä»»å‹™ï¼ˆå¦‚ `document-editing-agent`ï¼‰

**å•é¡Œ**ï¼š

- ç³»çµ±å¯èƒ½å°‡æ–‡ä»¶ç·¨è¼¯ä»»å‹™åˆ¤æ–·ç‚ºåªéœ€è¦å·¥å…·ï¼Œä¸éœ€è¦ Agent
- ä½†å¯¦éš›ä¸Šï¼Œæ–‡ä»¶ç·¨è¼¯ä»»å‹™æ‡‰è©²èª¿ç”¨ `document-editing-agent`ï¼Œè€Œä¸æ˜¯ `document_editing` å·¥å…·
- å…©è€…çš„è·è²¬å’Œå¯¦ç¾æ–¹å¼ä¸åŒ

---

## ğŸ”§ è§£æ±ºæ–¹æ¡ˆ

### è§£æ±ºæ–¹æ¡ˆ 1ï¼šæ”¹é€²ä»»å‹™é¡å‹è­˜åˆ¥

#### 1.1 å¢å¼· TaskClassifier çš„æ–‡ä»¶ç·¨è¼¯é—œéµè©è­˜åˆ¥

**å»ºè­°**ï¼šåœ¨ `TaskClassifier` ä¸­æ·»åŠ æ˜ç¢ºçš„æ–‡ä»¶ç·¨è¼¯é—œéµè©åŒ¹é…é‚è¼¯

```python
def _is_file_editing_task(self, task: str) -> bool:
    """åˆ¤æ–·æ˜¯å¦ç‚ºæ–‡ä»¶ç·¨è¼¯ä»»å‹™"""
    file_editing_keywords = [
        "ç·¨è¼¯", "ä¿®æ”¹", "æ›´æ–°", "åˆªé™¤", "æ·»åŠ ", "æ›¿æ›", "é‡å¯«", "æ ¼å¼åŒ–",
        "ç”¢ç”Ÿ", "å‰µå»º", "å¯«", "ç”Ÿæˆ", "å»ºç«‹", "è£½ä½œ",
        "æ–‡ä»¶", "æª”æ¡ˆ", "æ–‡æª”", "document", "file"
    ]
    task_lower = task.lower()
    return any(keyword in task_lower for keyword in file_editing_keywords)
```

#### 1.2 çµ±ä¸€ Router LLM å’Œ TaskClassifier çš„åˆ†é¡é‚è¼¯

**å»ºè­°**ï¼šè®“ TaskClassifier å„ªå…ˆä½¿ç”¨ Router LLM çš„ `intent_type` çµæœ

```python
# åœ¨ analyzer.py ä¸­
router_output = await self.router_llm.route(router_input, similar_decisions)

# å¦‚æœ Router LLM è­˜åˆ¥ç‚º executionï¼Œå¼·åˆ¶ TaskClassifier ä¹Ÿè­˜åˆ¥ç‚º execution
if router_output.intent_type == "execution":
    # è¦†è“‹ TaskClassifier çš„çµæœ
    classification.task_type = TaskType.EXECUTION
```

#### 1.3 æ”¹é€² Router LLM çš„ System Prompt

**å»ºè­°**ï¼šåœ¨ Router LLM çš„ System Prompt ä¸­æ›´æ˜ç¢ºåœ°èªªæ˜æ–‡ä»¶ç·¨è¼¯ä»»å‹™çš„è­˜åˆ¥è¦å‰‡

```python
# åœ¨ router_llm.py çš„ ROUTER_SYSTEM_PROMPT ä¸­æ·»åŠ ï¼š
"""
FILE EDITING INTENT DETECTION:
- If query contains file editing keywords (ç·¨è¼¯, ä¿®æ”¹, ç”¢ç”Ÿ, å‰µå»º, å¯«, ç”Ÿæˆ, å»ºç«‹, è£½ä½œ, æ–‡ä»¶, æª”æ¡ˆ, æ–‡æª”)
  AND query mentions file operations (creating, editing, generating documents)
  â†’ intent_type=execution, needs_tools=true, needs_agent=true
"""
```

---

### è§£æ±ºæ–¹æ¡ˆ 2ï¼šæ”¹é€² Agent èª¿ç”¨é‚è¼¯

#### 2.1 ä¿®æ”¹ Router LLM çš„ `needs_agent` åˆ¤æ–·é‚è¼¯

**å»ºè­°**ï¼šæ–‡ä»¶ç·¨è¼¯ä»»å‹™æ‡‰è©²è¨­ç½® `needs_agent=true`

```python
# åœ¨ router_llm.py çš„ ROUTER_SYSTEM_PROMPT ä¸­ä¿®æ”¹ï¼š
"""
3. needs_agent:
   - true if task requires:
     * Multi-step planning or coordination
     * Complex workflow orchestration
     * File/document operations (creating, editing, generating documents) â† æ–°å¢
     * Agent-specific capabilities (e.g., document-editing-agent)
   - false for simple queries that can be answered directly or with a single tool
"""
```

#### 2.2 å¢å¼· CapabilityMatcher çš„æ–‡ä»¶ç·¨è¼¯ Agent åŒ¹é…

**å»ºè­°**ï¼šå³ä½¿ `needs_agent=False`ï¼Œå¦‚æœä»»å‹™åŒ…å«æ–‡ä»¶ç·¨è¼¯é—œéµè©ï¼Œä¹Ÿæ‡‰è©²åŒ¹é… `document-editing-agent`

```python
# åœ¨ capability_matcher.py çš„ match_agents() ä¸­ï¼š
async def match_agents(
    self, router_decision: RouterDecision, context: Optional[Dict[str, Any]] = None
) -> List[CapabilityMatch]:
    # å³ä½¿ needs_agent=Falseï¼Œå¦‚æœä»»å‹™åŒ…å«æ–‡ä»¶ç·¨è¼¯é—œéµè©ï¼Œä¹Ÿæ‡‰è©²åŒ¹é… document-editing-agent
    user_query = context.get("task", "") or context.get("query", "") if context else ""
    if self._is_file_editing_task(user_query):
        # å¼·åˆ¶åŒ¹é… document-editing-agent
        router_decision.needs_agent = True  # è‡¨æ™‚è¨­ç½®ï¼Œä¸å½±éŸ¿åŸå§‹æ±ºç­–

    if not router_decision.needs_agent:
        return []
    # ... å¾ŒçºŒåŒ¹é…é‚è¼¯
```

#### 2.3 æ·»åŠ æ–‡ä»¶ç·¨è¼¯ Agent çš„æ˜ç¢ºåŒ¹é…è¦å‰‡

**å»ºè­°**ï¼šåœ¨ `CapabilityMatcher` ä¸­æ·»åŠ æ–‡ä»¶ç·¨è¼¯ Agent çš„æ˜ç¢ºåŒ¹é…è¦å‰‡

```python
# åœ¨ capability_matcher.py ä¸­ï¼š
def _is_file_editing_task(self, query: str) -> bool:
    """åˆ¤æ–·æ˜¯å¦ç‚ºæ–‡ä»¶ç·¨è¼¯ä»»å‹™"""
    file_editing_keywords = [
        "ç·¨è¼¯", "ä¿®æ”¹", "æ›´æ–°", "åˆªé™¤", "æ·»åŠ ", "æ›¿æ›", "é‡å¯«", "æ ¼å¼åŒ–",
        "ç”¢ç”Ÿ", "å‰µå»º", "å¯«", "ç”Ÿæˆ", "å»ºç«‹", "è£½ä½œ",
        "æ–‡ä»¶", "æª”æ¡ˆ", "æ–‡æª”", "document", "file"
    ]
    query_lower = query.lower()
    return any(keyword in query_lower for keyword in file_editing_keywords)

# åœ¨ match_agents() ä¸­ï¼š
if self._is_file_editing_task(user_query):
    # å„ªå…ˆåŒ¹é… document-editing-agent
    document_editing_agent = next(
        (a for a in agents if a.agent_id == "document-editing-agent"),
        None
    )
    if document_editing_agent:
        # æé«˜ document-editing-agent çš„åŒ¹é…è©•åˆ†
        # ...
```

---

### è§£æ±ºæ–¹æ¡ˆ 3ï¼šçµ±ä¸€å·¥å…·èˆ‡ Agent çš„èª¿ç”¨é‚è¼¯

#### 3.1 æ˜ç¢ºå·¥å…·èˆ‡ Agent çš„è·è²¬

**å»ºè­°**ï¼šæ˜ç¢ºå€åˆ†å·¥å…·å’Œ Agent çš„ä½¿ç”¨å ´æ™¯

- **å·¥å…·ï¼ˆToolï¼‰**ï¼šç”¨æ–¼åŸ·è¡Œå–®ä¸€ã€ç¢ºå®šçš„æ“ä½œï¼ˆå¦‚ç²å–ç•¶å‰æ™‚é–“ã€æŸ¥è©¢å¤©æ°£ï¼‰
- **Agent**ï¼šç”¨æ–¼åŸ·è¡Œè¤‡é›œã€éœ€è¦æ¨ç†çš„ä»»å‹™ï¼ˆå¦‚æ–‡ä»¶ç·¨è¼¯ã€å ±å‘Šç”Ÿæˆï¼‰

**æ–‡ä»¶ç·¨è¼¯ä»»å‹™æ‡‰è©²ä½¿ç”¨ Agent**ï¼Œå› ç‚ºï¼š

- éœ€è¦ç†è§£ç”¨æˆ¶æ„åœ–
- éœ€è¦ç”Ÿæˆç·¨è¼¯æŒ‡ä»¤
- éœ€è¦è™•ç†ä¸ç¢ºå®šçš„è¼¸å…¥ï¼ˆå¦‚"å¹«æˆ‘ç·¨è¼¯æ–‡ä»¶"éœ€è¦æ¾„æ¸…ï¼‰

#### 3.2 æ”¹é€² Decision Engine çš„æ±ºç­–é‚è¼¯

**å»ºè­°**ï¼šåœ¨ Decision Engine ä¸­æ·»åŠ æ–‡ä»¶ç·¨è¼¯ä»»å‹™çš„ç‰¹æ®Šè™•ç†

```python
# åœ¨ decision_engine.py çš„ decide() ä¸­ï¼š
def decide(
    self,
    router_decision: RouterDecision,
    agent_candidates: list[CapabilityMatch],
    tool_candidates: list[CapabilityMatch],
    model_candidates: list[CapabilityMatch],
    context: Optional[Dict[str, Any]] = None,
) -> DecisionResult:
    # æª¢æŸ¥æ˜¯å¦ç‚ºæ–‡ä»¶ç·¨è¼¯ä»»å‹™
    user_query = context.get("task", "") or context.get("query", "") if context else ""
    if self._is_file_editing_task(user_query):
        # æ–‡ä»¶ç·¨è¼¯ä»»å‹™å„ªå…ˆä½¿ç”¨ Agent
        document_editing_agent = next(
            (a for a in agent_candidates if a.candidate_id == "document-editing-agent"),
            None
        )
        if document_editing_agent:
            # å¼·åˆ¶é¸æ“‡ document-editing-agent
            chosen_agent = "document-editing-agent"
            # ...
```

---

## ğŸ“Š é æœŸæ”¹é€²æ•ˆæœ

### ä»»å‹™é¡å‹è­˜åˆ¥

- **æ”¹é€²å‰**ï¼š20% æ­£ç¢ºç‡ï¼ˆ5/25ï¼‰
- **æ”¹é€²å¾Œ**ï¼šé æœŸ 80%+ æ­£ç¢ºç‡ï¼ˆ20+/25ï¼‰

### Agent èª¿ç”¨

- **æ”¹é€²å‰**ï¼š0% æˆåŠŸç‡ï¼ˆ0/25ï¼‰
- **æ”¹é€²å¾Œ**ï¼šé æœŸ 80%+ æˆåŠŸç‡ï¼ˆ20+/25ï¼‰

---

## ğŸ¯ å¯¦æ–½å„ªå…ˆç´š

### é«˜å„ªå…ˆç´šï¼ˆç«‹å³å¯¦æ–½ï¼‰

1. **ä¿®æ”¹ Router LLM çš„ System Prompt**
   - æ˜ç¢ºæ–‡ä»¶ç·¨è¼¯ä»»å‹™çš„ `needs_agent=true` è¦å‰‡
   - å¢å¼·æ–‡ä»¶ç·¨è¼¯é—œéµè©è­˜åˆ¥

2. **å¢å¼· CapabilityMatcher çš„æ–‡ä»¶ç·¨è¼¯ Agent åŒ¹é…**
   - æ·»åŠ æ–‡ä»¶ç·¨è¼¯ä»»å‹™çš„æ˜ç¢ºåŒ¹é…è¦å‰‡
   - å³ä½¿ `needs_agent=False`ï¼Œä¹Ÿæ‡‰è©²åŒ¹é… `document-editing-agent`

### ä¸­å„ªå…ˆç´šï¼ˆçŸ­æœŸå¯¦æ–½ï¼‰

3. **æ”¹é€² TaskClassifier çš„æ–‡ä»¶ç·¨è¼¯é—œéµè©è­˜åˆ¥**
   - æ·»åŠ æ˜ç¢ºçš„æ–‡ä»¶ç·¨è¼¯é—œéµè©åŒ¹é…é‚è¼¯
   - çµ±ä¸€ Router LLM å’Œ TaskClassifier çš„åˆ†é¡é‚è¼¯

4. **æ”¹é€² Decision Engine çš„æ±ºç­–é‚è¼¯**
   - æ·»åŠ æ–‡ä»¶ç·¨è¼¯ä»»å‹™çš„ç‰¹æ®Šè™•ç†
   - å„ªå…ˆé¸æ“‡ `document-editing-agent`

### ä½å„ªå…ˆç´šï¼ˆé•·æœŸå„ªåŒ–ï¼‰

5. **çµ±ä¸€å·¥å…·èˆ‡ Agent çš„èª¿ç”¨é‚è¼¯**
   - æ˜ç¢ºå€åˆ†å·¥å…·å’Œ Agent çš„ä½¿ç”¨å ´æ™¯
   - æ”¹é€²ç³»çµ±æ¶æ§‹æ–‡æª”

---

## ğŸ“ å¯¦æ–½æ­¥é©Ÿ

### æ­¥é©Ÿ 1ï¼šä¿®æ”¹ Router LLM System Prompt

**æ–‡ä»¶**ï¼š`agents/task_analyzer/router_llm.py`

**ä¿®æ”¹å…§å®¹**ï¼š

1. åœ¨ `ROUTER_SYSTEM_PROMPT` ä¸­æ˜ç¢ºæ–‡ä»¶ç·¨è¼¯ä»»å‹™çš„ `needs_agent=true` è¦å‰‡
2. å¢å¼·æ–‡ä»¶ç·¨è¼¯é—œéµè©è­˜åˆ¥ç¤ºä¾‹

### æ­¥é©Ÿ 2ï¼šå¢å¼· CapabilityMatcher

**æ–‡ä»¶**ï¼š`agents/task_analyzer/capability_matcher.py`

**ä¿®æ”¹å…§å®¹**ï¼š

1. æ·»åŠ  `_is_file_editing_task()` æ–¹æ³•
2. åœ¨ `match_agents()` ä¸­æ·»åŠ æ–‡ä»¶ç·¨è¼¯ Agent çš„æ˜ç¢ºåŒ¹é…è¦å‰‡

### æ­¥é©Ÿ 3ï¼šæ”¹é€² TaskClassifier

**æ–‡ä»¶**ï¼š`agents/task_analyzer/classifier.py`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰

**ä¿®æ”¹å…§å®¹**ï¼š

1. æ·»åŠ æ–‡ä»¶ç·¨è¼¯é—œéµè©è­˜åˆ¥é‚è¼¯
2. çµ±ä¸€ Router LLM å’Œ TaskClassifier çš„åˆ†é¡é‚è¼¯

### æ­¥é©Ÿ 4ï¼šæ”¹é€² Decision Engine

**æ–‡ä»¶**ï¼š`agents/task_analyzer/decision_engine.py`

**ä¿®æ”¹å…§å®¹**ï¼š

1. æ·»åŠ æ–‡ä»¶ç·¨è¼¯ä»»å‹™çš„ç‰¹æ®Šè™•ç†é‚è¼¯
2. å„ªå…ˆé¸æ“‡ `document-editing-agent`

### æ­¥é©Ÿ 5ï¼šé‡æ–°æ¸¬è©¦

**æ–‡ä»¶**ï¼š`tests/agents/test_file_editing_intent.py`

**åŸ·è¡Œ**ï¼š

```bash
pytest tests/agents/test_file_editing_intent.py -v
```

---

## ğŸ” é©—è­‰æ–¹æ³•

### é©—è­‰ä»»å‹™é¡å‹è­˜åˆ¥

```python
# æ¸¬è©¦å ´æ™¯ï¼šFE-001
user_input = "ç·¨è¼¯æ–‡ä»¶ README.md"
expected_task_type = "execution"
actual_task_type = result.task_type.value
assert actual_task_type == expected_task_type, f"Expected {expected_task_type}, got {actual_task_type}"
```

### é©—è­‰ Agent èª¿ç”¨

```python
# æ¸¬è©¦å ´æ™¯ï¼šFE-001
user_input = "ç·¨è¼¯æ–‡ä»¶ README.md"
expected_agent = "document-editing-agent"
actual_agents = result.suggested_agents
assert expected_agent in actual_agents, f"Expected {expected_agent} in {actual_agents}"
```

---

## ğŸ“š åƒè€ƒæ–‡æª”

1. **æ¸¬è©¦åŠ‡æœ¬**ï¼š`docs/ç³»ç»Ÿè®¾è®¡æ–‡æ¡£/æ ¸å¿ƒç»„ä»¶/Agentå¹³å°/æ–‡ä»¶ç·¨è¼¯æ„åœ–è­˜åˆ¥æ¸¬è©¦åŠ‡æœ¬.md`
2. **æ¸¬è©¦çµæœæ‘˜è¦**ï¼š`tests/agents/intent_parsing_test_summary.md`
3. **Router LLM å¯¦ç¾**ï¼š`agents/task_analyzer/router_llm.py`
4. **CapabilityMatcher å¯¦ç¾**ï¼š`agents/task_analyzer/capability_matcher.py`
5. **Decision Engine å¯¦ç¾**ï¼š`agents/task_analyzer/decision_engine.py`

---

**å ±å‘Šç‹€æ…‹**ï¼šå¾…å¯¦æ–½
**ä¸‹æ¬¡æ›´æ–°**ï¼šå¯¦æ–½å¾Œé‡æ–°æ¸¬è©¦æ™‚
