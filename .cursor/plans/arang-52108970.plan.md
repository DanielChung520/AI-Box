<!-- 52108970-551b-48dd-8fab-d9ec4eff22ad 6e469300-8341-4061-8d6c-d3fb184ee542 -->
# WBS 1.4 ArangoDB 實施計劃

## 1. ArangoDB 安裝與配置 (1.4.1)

- 檢查 `docker-compose.yml`、`k8s/` 是否已有 ArangoDB 服務，若無則新增部署與環境變數範本。
- 在 `docs/deployment/` 下新增 ArangoDB 部署說明（單節點→雙節點、備援策略、監控指標）。
- 若需新腳本（如 health-check、init data），置於 `scripts/` 或 `infra/arangodb/`。

## 2. SDK 封裝擴充 (1.4.2)

- 盤點 `databases/arangodb/` 內 `client.py`, `collection.py`, `graph.py`，補齊缺漏：
- 連線池/錯誤處理/重試與 `ArangoDBConnectionError` 類別。
- AQL 查詢介面、Graph API 封裝、權限管理（API Key / user 驗證）。
- 為新增介面撰寫單元測試，放於 `databases/arangodb/tests/`。

## 3. 知識圖譜建模 (1.4.3)

- 規劃 entity/edge/schema，產出 `docs/knowledge_graph/arangodb-schema.md`（含欄位、索引、版本策略）。
- 若需初始化腳本或 migration，放在 `scripts/arangodb/`，提供示例資料建立方式。

## 4. 圖查詢功能與測試 (1.4.4)

- 在 SDK 中加入常用查詢方法（路徑、子圖、屬性過濾），並提供示例 AQL。
- 編寫 pytest 覆蓋上述查詢邏輯，確保 CRUD + traversal + AQL 均可運作。
- 如需示例 notebook/腳本，置於 `examples/` 或 `scripts/aragondb_query_demo.py`。

## 5. 文檔與進度同步

- 每完成子任務即更新 `docs/PROJECT_CONTROL_TABLE.md`、相關 README。
- 在 `docs/performance/` 或 `docs/deployment/` 補充監控/性能建議（若有測試結果）。

## 實施順序

1. 完成部署與配置文檔 → 2. SDK/錯誤處理擴充 → 3. Schema 文檔與初始化 → 4. 圖查詢與測試 → 5. 更新控制表與 README。

### To-dos

- [x] 完善單元測試（覆蓋率 ≥80%）- 擴展現有測試文件，添加連線池、錯誤處理、批量操作等測試
- [x] 創建 API 端點測試 - tests/api/test_chromadb_api.py
- [x] 創建性能測試腳本 - scripts/performance/chromadb_benchmark.py
- [x] 創建性能優化文檔 - docs/performance/chromadb-optimization.md
- [x] 執行性能驗證（1k 筆嵌入、<200ms 檢索）- 已創建性能驗證指南和測試腳本
- [x] 更新項目文檔（README.md, PROJECT_CONTROL_TABLE.md）
