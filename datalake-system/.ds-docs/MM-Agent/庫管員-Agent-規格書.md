# MM-Agentï¼ˆç‰©æ–™ç®¡ç†ä»£ç†ï¼‰è¦æ ¼æ›¸

**ç‰ˆæœ¬**ï¼š4.0
**å‰µå»ºæ—¥æœŸ**ï¼š2026-01-13
**æœ€å¾Œä¿®æ”¹æ—¥æœŸ**ï¼š2026-01-31
**é©ç”¨ç’°å¢ƒ**ï¼šAI-Box Agent Platform v4.0

---

## 1. æ¦‚è¿°

### 1.1 å®šä½

**MM-Agentï¼ˆMaterial Management Agentï¼‰** æ˜¯ BPAï¼ˆBusiness Process Agentï¼‰é¡å‹ä¸‹çš„ç‰©æ–™ç®¡ç†æ¥­å‹™å¯¦ç¾ï¼Œè² è²¬è™•ç†åº«å­˜ã€é€²è²¨ã€å‡ºè²¨ã€å‘†æ»¯ç­‰ç‰©æ–™ç®¡ç†ç›¸é—œæŸ¥è©¢ã€‚

### 1.2 AI-Box æ¶æ§‹ä½ç½®

```
AI-Box Agent Platform v4.0
â”‚
â”œâ”€â”€ å”èª¿å±¤ï¼ˆå…§å»ºæœå‹™ï¼‰
â”‚   â”œâ”€â”€ Agent Registryï¼ˆè¨»å†Šè¡¨ï¼‰
â”‚   â”œâ”€â”€ Agent Orchestratorï¼ˆå”èª¿å™¨ï¼‰
â”‚   â””â”€â”€ Task Analyzer v4.0ï¼ˆL1-L5 äº”å±¤è™•ç†ï¼‰
â”‚
â””â”€â”€ å¤–éƒ¨ Agentï¼ˆé€é MCP èª¿ç”¨ï¼‰â¬…ï¸ MM-Agent å±¬æ–¼æ­¤é¡
    â”œâ”€â”€ BPA - MM-Agent â¬…ï¸ ç‰©æ–™ç®¡ç†æ¥­å‹™å¯¦ç¾ï¼ˆç¬¬ä¸‰æ–¹ï¼‰
    â”œâ”€â”€ BPA - Purchase Agent
    â”œâ”€â”€ BPA - Sales Agent
    â””â”€â”€ System Support Agents
```

### 1.3 Agent é¡å‹å®šç¾©

| ç‰¹æ€§ | å…§å»º Agent | å…§éƒ¨ Agent | å¤–éƒ¨ Agentï¼ˆMM-Agentï¼‰ |
|------|-----------|-----------|----------------------|
| è¨»å†Šæ–¹å¼ | ç„¡éœ€è¨»å†Š | Registry API | Registry APIï¼ˆMCPï¼‰ |
| èª¿ç”¨æ–¹å¼ | ç›´æ¥èª¿ç”¨ | HTTP/MCP Client | MCP Protocol |
| èªè­‰è¦æ±‚ | ç„¡ | å¯¬é¬† | åš´æ ¼ï¼ˆmTLSã€API Keyï¼‰ |
| éƒ¨ç½²ä½ç½® | AI-Box å…§éƒ¨ | AI-Box å…§éƒ¨ | datalake-systemï¼ˆç¨ç«‹ï¼‰ |
| è³‡æºæ¬Šé™ | å®Œæ•´ | å®Œæ•´ | å—é™ï¼ˆéœ€é…ç½®ï¼‰ |

### 1.4 MCP é›†æˆç‹€æ…‹

| ç‹€æ…‹ | èªªæ˜ |
|------|------|
| âœ… å·²è¨»å†Š | MM-Agent å·²è¨»å†Šåˆ° AI-Box Agent Registry |
| âœ… MCP é›†æˆ | é€šé MCP Protocol èˆ‡ AI-Box æºé€š |
| â³ èƒ½åŠ›æ˜ å°„ | å°šæœªå®Œæˆ L3 èƒ½åŠ›æ˜ å°„é…ç½® |
| â³ ç­–ç•¥æª¢æŸ¥ | å°šæœªå¯¦ç¾ L4 æ­£é¢è¡¨åˆ— |

### 1.5 v4.0 Task Analyzer 5 å±¤å°æ‡‰

| å±¤ç´š | åŠŸèƒ½ | MM-Agent å¯¦ç¾ä½ç½® |
|------|------|------------------|
| L1 | èªç¾©ç†è§£ | MM-Agentï¼ˆSemantic Analyzerï¼‰ |
| L2 | æ„åœ–æŠ½è±¡ | MM-Agentï¼ˆTranslatorï¼‰ |
| L3 | èƒ½åŠ›æ˜ å°„ | AI-Box Orchestrator |
| L4 | ç­–ç•¥æª¢æŸ¥ | MM-Agentï¼ˆPositive Listï¼‰ |
| L5 | åŸ·è¡Œè§€å¯Ÿ | AI-Box Orchestrator |

---

## 2. ç³»çµ±æ¶æ§‹

### 2.1 æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI-Box Agent Platform v4.0                        â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   å”èª¿å±¤ï¼ˆå…§å»ºæœå‹™ï¼‰                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Registry   â”‚  â”‚Orchestrator â”‚  â”‚  Task Analyzer      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚      v4.0           â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                               â”‚ MCP                                â”‚
â”‚                               â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              å¤–éƒ¨ Agent - MM-Agentï¼ˆç¬¬ä¸‰æ–¹æœå‹™ï¼‰              â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚              MM-Agent Service                        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚              (ç¨ç«‹é€²ç¨‹ï¼ŒTCP ç«¯å£ç›£è½)                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                      â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ MCP Handler â”‚  â”‚  Semantic   â”‚  â”‚Translation  â”‚ â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚             â”‚â”€â”€â–¶â”‚  Analyzer  â”‚â”€â”€â–¶â”‚  Engine    â”‚ â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ (L1-L5 æ©‹æ¥)â”‚  â”‚            â”‚  â”‚            â”‚ â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚   â”‚
â”‚  â”‚  â”‚         â”‚                â”‚               â”‚         â”‚   â”‚   â”‚
â”‚  â”‚  â”‚         â–¼                â–¼               â–¼         â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚           Business Logic                    â”‚  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ Inventoryâ”‚ â”‚Purchase â”‚ â”‚ Sales   â”‚      â”‚  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ Query   â”‚ â”‚ Query   â”‚ â”‚ Query   â”‚      â”‚  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                       â”‚                           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                       â–¼                           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚              â”‚   DA Integration â”‚                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚              â”‚  (Qdrant/Arango)â”‚                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                       å…¬å…±æœå‹™                                 â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚   â”‚
â”‚  â”‚   â”‚  Qdrant  â”‚   â”‚ArangoDB  â”‚   â”‚DataLake  â”‚              â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 MCP é€šä¿¡æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MCP é€šä¿¡æµç¨‹                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  AI-Box                    MCP                      MM-Agent
    â”‚                         â”‚                          â”‚
    â”‚  1. Task Analyzer L1-L3 â”‚                          â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                          â”‚
    â”‚     (æ„åœ–åˆ†é¡å®Œæˆ)       â”‚                          â”‚
    â”‚                         â”‚                          â”‚
    â”‚  2. é¸æ“‡ Agent: mm-agentâ”‚                          â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  3. MCP Request         â”‚
    â”‚                         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚                         â”‚     (execute)           â”‚
    â”‚                         â”‚                          â”‚
    â”‚                         â”‚     4. åŸ·è¡ŒæŸ¥è©¢          â”‚
    â”‚                         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
    â”‚                         â”‚                          â”‚
    â”‚                         â”‚     5. è¿”å›çµæœ          â”‚
    â”‚                         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â”‚  6. Task Analyzer L5    â”‚                          â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                          â”‚
    â”‚     (åŸ·è¡Œè§€å¯Ÿå®Œæˆ)       â”‚                          â”‚
```

### 2.3 æ–‡ä»¶çµæ§‹

```
datalake-system/
â”œâ”€â”€ mm_agent/
â”‚   â”œâ”€â”€ main.py                 # FastAPI + MCP å…¥å£ï¼ˆç¨ç«‹æœå‹™ï¼‰
â”‚   â”œâ”€â”€ agent.py                # MM-Agent æ¥­å‹™é‚è¼¯
â”‚   â”œâ”€â”€ mcp_handler.py          # MCP Handlerï¼ˆL1-L5 æ©‹æ¥ï¼‰
â”‚   â”œâ”€â”€ semantic_analyzer.py    # èªç¾©è§£æï¼ˆL1ï¼‰
â”‚   â”œâ”€â”€ translator.py           # è½‰è­¯å¼•æ“ï¼ˆL2ï¼‰
â”‚   â”œâ”€â”€ positive_list.py        # æ­£é¢è¡¨åˆ—æª¢æŸ¥ï¼ˆL4ï¼‰
â”‚   â”œâ”€â”€ models.py               # æ•¸æ“šæ¨¡å‹
â”‚   â”œâ”€â”€ registry.py             # Agent è¨»å†Šæ¨¡çµ„
â”‚   â”œâ”€â”€ requirements.txt        # ä¾è³´
â”‚   â”œâ”€â”€ Dockerfile              # Docker é…ç½®
â”‚   â””â”€â”€ config.py               # é…ç½®ç®¡ç†
â”‚
â””â”€â”€ frontend/
    â””â”€â”€ api_server.py           # API Gatewayï¼ˆå¯é¸ï¼Œç›´æ¥å°å¤–æš´éœ²ï¼‰
```

---

## 3. MCP é€šä¿¡å”è­°

### 3.1 MCP Handler å¯¦ç¾

```python
from mcp.server.fastmcp import FastMCP
from agents.services.protocol.base import (
    AgentServiceRequest,
    AgentServiceResponse,
)

mcp = FastMCP("mm-agent")


@mcp.tool()
async def execute_task(
    task_id: str,
    instruction: str,
    context: dict | None = None,
) -> dict:
    """åŸ·è¡Œ MM-Agent ä»»å‹™ï¼ˆL1-L5 æ©‹æ¥ï¼‰"""
    request = AgentServiceRequest(
        task_id=task_id,
        task_data={"instruction": instruction},
        metadata=context or {},
    )

    agent = MMAgent()
    response = await agent.execute(request)

    return {
        "task_id": response.task_id,
        "status": response.status,
        "result": response.result,
        "error": response.error,
    }


@mcp.tool()
async def get_capabilities() -> dict:
    """ç²å– MM-Agent èƒ½åŠ›åˆ—è¡¨"""
    agent = MMAgent()
    return await agent.get_capabilities()


@mcp.tool()
async def health_check() -> str:
    """å¥åº·æª¢æŸ¥"""
    agent = MMAgent()
    status = await agent.health_check()
    return status.value
```

### 3.2 MCP ç«¯é»

| ç«¯é» | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| `execute_task` | åŸ·è¡Œä»»å‹™ | æ¥æ”¶ AI-Box åˆ†æ´¾çš„ä»»å‹™ |
| `get_capabilities` | æŸ¥è©¢èƒ½åŠ› | è¿”å› MM-Agent æ”¯æŒçš„åŠŸèƒ½ |
| `health_check` | å¥åº·æª¢æŸ¥ | è¿”å›æœå‹™ç‹€æ…‹ |

### 3.3 è«‹æ±‚/éŸ¿æ‡‰æ ¼å¼

```json
// MCP Request
{
  "task_id": "task-001",
  "instruction": "RM05-008 ä¸Šæœˆè²·é€²å¤šå°‘",
  "context": {
    "user_id": "user_001",
    "session_id": "session_001"
  }
}

// MCP Response
{
  "task_id": "task-001",
  "status": "completed",
  "result": {
    "success": true,
    "intent": "purchase",
    "response": "RM05-008 åœ¨ä¸Šæœˆï¼ˆ2025-12ï¼‰æ¡è³¼é€²è²¨å…± 5,000 KG"
  }
}
```

---

## 4. Agent Service Protocolï¼ˆå…§éƒ¨å¯¦ç¾ï¼‰

### 4.1 æ¥å£å®šç¾©

é›–ç„¶ MM-Agent é€šé MCP èˆ‡ AI-Box é€šä¿¡ï¼Œå…§éƒ¨ä»ä½¿ç”¨ AgentServiceProtocol è¦ç¯„ï¼š

```python
from agents.services.protocol.base import (
    AgentServiceProtocol,
    AgentServiceRequest,
    AgentServiceResponse,
    AgentServiceStatus,
)


class MMAgent(AgentServiceProtocol):
    """MM-Agentï¼ˆç‰©æ–™ç®¡ç†ä»£ç†ï¼‰- å…§éƒ¨å¯¦ç¾"""

    def __init__(self):
        self.agent_id = "mm-agent"
        self.agent_type = "bpa"
        self.version = "4.0.0"

    async def execute(
        self, request: AgentServiceRequest
    ) -> AgentServiceResponse:
        """åŸ·è¡Œç‰©æ–™ç®¡ç†ä»»å‹™"""
        pass

    async def health_check(self) -> AgentServiceStatus:
        """å¥åº·æª¢æŸ¥"""
        pass

    async def get_capabilities(self) -> dict:
        """ç²å–æœå‹™èƒ½åŠ›"""
        pass
```

### 4.2 Capabilities

```python
async def get_capabilities(self) -> dict:
    return {
        "agent_id": "mm-agent",
        "version": "4.0.0",
        "description": "ç‰©æ–™ç®¡ç†æ¥­å‹™Agent",
        "agent_type": "bpa",
        "capabilities": [
            {
                "name": "query_inventory",
                "description": "æŸ¥è©¢åº«å­˜é¤˜é¡",
                "parameters": {
                    "item_id": "string",
                    "warehouse": "string|null",
                },
            },
            {
                "name": "query_transactions",
                "description": "æŸ¥è©¢äº¤æ˜“æ­·å²",
                "parameters": {
                    "item_id": "string",
                    "tlf19": "string",
                    "date_range": "string",
                },
            },
            {
                "name": "analyze_shortage",
                "description": "ç¼ºæ–™åˆ†æ",
                "parameters": {
                    "item_id": "string",
                },
            },
        ],
        "protocols": ["http", "mcp"],
    }
```

---

## 4. API æ¥å£

### 4.1 ç¨ç«‹æœå‹™æ¥å£

**Base URL**: `http://localhost:8005`

| Method | Endpoint | åŠŸèƒ½ |
|--------|----------|------|
| POST | `/execute` | åŸ·è¡Œ Agent ä»»å‹™ |
| GET | `/health` | å¥åº·æª¢æŸ¥ |
| GET | `/capabilities` | æŸ¥è©¢èƒ½åŠ›åˆ—è¡¨ |
| POST | `/register` | è¨»å†Šåˆ° Registry |

### 4.2 è«‹æ±‚æ ¼å¼

```json
// POST /execute
{
  "task_id": "task-001",
  "task_type": "mm_query",
  "task_data": {
    "instruction": "RM05-008 ä¸Šæœˆè²·é€²å¤šå°‘",
    "parameters": {}
  },
  "context": {
    "user_id": "user_001",
    "session_id": "session_001"
  },
  "metadata": {
    "version": "4.0.0"
  }
}
```

### 4.3 éŸ¿æ‡‰æ ¼å¼

```json
{
  "task_id": "task-001",
  "status": "completed",
  "result": {
    "success": true,
    "task_type": "query_transactions",
    "intent": "purchase",
    "translation": {
      "tlf19": "101",
      "time_expr": "DATE_SUB(CURDATE(), INTERVAL 1 MONTH)"
    },
    "response": "RM05-008 åœ¨ä¸Šæœˆï¼ˆ2025-12ï¼‰æ¡è³¼é€²è²¨å…± 5,000 KG",
    "data": {
      "total_quantity": 5000,
      "unit": "KG",
      "period": "2025-12"
    }
  },
  "metadata": {
    "execution_time_ms": 150,
    "agent_version": "4.0.0"
  }
}
```

---

## 5. æ ¸å¿ƒæ¨¡çµ„

### 5.1 Semantic Analyzerï¼ˆL1 èªç¾©ç†è§£ï¼‰

```python
class SemanticAnalyzer:
    """èªç¾©åˆ†ææœå‹™ - L1 å±¤"""

    async def analyze(self, instruction: str) -> SemanticAnalysisResult:
        """
        åˆ†æç”¨æˆ¶æŒ‡ä»¤

        Returns:
            SemanticAnalysisResult:
                - intent: æ„åœ–é¡åˆ¥
                - confidence: ç½®ä¿¡åº¦
                - parameters: æå–çš„åƒæ•¸
        """
        pass
```

### 5.2 Translatorï¼ˆL2 æ„åœ–æŠ½è±¡ï¼‰

```python
class Translator:
    """è½‰è­¯å¼•æ“ - L2 å±¤"""

    def translate_time(self, time_expr: str) -> str:
        """æ™‚é–“è¡¨é”å¼è½‰è­¯"""
        pass

    def translate_tlf19(self, action: str) -> str:
        """tlf19 äº¤æ˜“é¡åˆ¥è½‰è­¯"""
        pass

    def translate(self, semantic_result: dict) -> TranslationResult:
        """å®Œæ•´è½‰è­¯"""
        pass
```

### 5.3 Positive Listï¼ˆL4 ç­–ç•¥æª¢æŸ¥ï¼‰

```python
class PositiveListChecker:
    """æ­£é¢è¡¨åˆ—æª¢æŸ¥ - L4 å±¤"""

    def check(self, query: str) -> tuple[bool, list[str]]:
        """æª¢æŸ¥æŸ¥è©¢æ˜¯å¦åœ¨æ­£é¢è¡¨åˆ—å…§"""
        pass
```

---

## 4. æœå‹™éƒ¨ç½²

### 4.1 ç«¯å£é…ç½®

| æœå‹™ | ç«¯å£ | èªªæ˜ |
|------|------|------|
| Data-Agent | 8005 | æ•¸æ“šæŸ¥è©¢ã€Qdrant æ„åœ–åŒ¹é… |
| MM-Agent | 8003 | æ¥­å‹™é‚è¼¯ã€LangChain å°è©±ç·¨æ’ |
| 8503 Frontend | 8503 | React å‰ç«¯ç•Œé¢ |

### 4.2 å‰ç«¯èª¿ç”¨æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     8503 Frontend (React)                        â”‚
â”‚                     http://localhost:8503                        â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    NLP æŸ¥è©¢é é¢                          â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  const handleQuery = async (query: string) => {         â”‚   â”‚
â”‚  â”‚    if (isMMScenario(query)) {                           â”‚   â”‚
â”‚  â”‚      // èª¿ç”¨ MM-Agent                                   â”‚   â”‚
â”‚  â”‚      await fetch('http://localhost:8003/api/v1/...')    â”‚   â”‚
â”‚  â”‚    } else {                                             â”‚   â”‚
â”‚  â”‚      // èª¿ç”¨ Data-Agent                                 â”‚   â”‚
â”‚  â”‚      await fetch('http://localhost:8005/api/v1/...')    â”‚   â”‚
â”‚  â”‚    }                                                    â”‚   â”‚
â”‚  â”‚  }                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼                  â–¼                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MM-Agent   â”‚    â”‚Data-Agent  â”‚    â”‚ å…¶ä»–æœå‹™   â”‚
    â”‚ 8003       â”‚    â”‚ 8005       â”‚    â”‚ ...        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  AI-Box Orchestratorâ”‚
              â”‚   (MCP çµ±ä¸€èª¿åº¦)    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 å‰ç«¯èª¿ç”¨ç­–ç•¥

| å ´æ™¯ | èª¿ç”¨æœå‹™ | èªªæ˜ |
|------|---------|------|
| åº«å­˜æŸ¥è©¢ã€æ¡è³¼ã€éŠ·å”® | MM-Agent (8003) | æ¥­å‹™é‚è¼¯ã€è½‰è­¯ |
| æ•¸æ“šå„€è¡¨æ¿ã€çµ±è¨ˆ | Data-Agent (8005) | æ•¸æ“šæŸ¥è©¢ |
| AI-Box å”èª¿ | MCP (8003) | è·¨ç³»çµ±èª¿åº¦ |

### 4.4 API ç«¯é»

#### MM-Agent (8003)

| Method | Endpoint | åŠŸèƒ½ |
|--------|----------|------|
| POST | `/api/v1/mm-agent/chat` | LangChain å°è©± |
| POST | `/api/v1/mm-agent/translate` | å°ˆæ¥­è¡“èªè½‰è­¯ |
| POST | `/api/v1/mm-agent/check` | æ­£é¢è¡¨åˆ—æª¢æŸ¥ |
| GET | `/health` | å¥åº·æª¢æŸ¥ |
| GET | `/capabilities` | èƒ½åŠ›åˆ—è¡¨ |
| POST | `/mcp` | MCP é€šä¿¡ |

#### Data-Agent (8005)

| Method | Endpoint | åŠŸèƒ½ |
|--------|----------|------|
| POST | `/api/v1/data-agent/query` | æ•¸æ“šæŸ¥è©¢ |
| GET | `/api/v1/datalake/inventory` | åº«å­˜æ•¸æ“š |
| GET | `/api/v1/datalake/transactions` | äº¤æ˜“æ•¸æ“š |

---

## 5. æ ¸å¿ƒæ¨¡çµ„

```python
# main.py
import asyncio
from mcp.server.fastmcp import FastMCP
from semantic_analyzer import SemanticAnalyzer
from translator import Translator
from positive_list import PositiveListChecker


async def main():
    """å•Ÿå‹• MM-Agent MCP Server"""
    mcp = FastMCP("mm-agent")

    # åˆå§‹åŒ–çµ„ä»¶
    semantic_analyzer = SemanticAnalyzer()
    translator = Translator()
    positive_list = PositiveListChecker()

    @mcp.tool()
    async def execute_task(
        task_id: str,
        instruction: str,
        context: dict | None = None,
    ) -> dict:
        """åŸ·è¡Œ MM-Agent ä»»å‹™"""
        # L1: æ­£é¢è¡¨åˆ—æª¢æŸ¥
        if not positive_list.check(instruction):
            return {
                "task_id": task_id,
                "status": "clarification_needed",
                "result": {
                    "message": positive_list.get_clarification_message()
                }
            }

        # L2: èªç¾©åˆ†æ
        semantic_result = await semantic_analyzer.analyze(instruction)

        # L3: è½‰è­¯
        translation = translator.translate(semantic_result)

        # åŸ·è¡Œæ¥­å‹™é‚è¼¯...
        # ...

        return {
            "task_id": task_id,
            "status": "completed",
            "result": {"response": "..."}
        }

    await mcp.run_tcp(host="0.0.0.0", port=8005)


if __name__ == "__main__":
    asyncio.run(main())
```

### 5.2 ç’°å¢ƒè®Šæ•¸

| ä»£ç¢¼ | é¡åˆ¥ | åº«å­˜è®Šå‹• | èªªæ˜ |
|------|------|---------|------|
| 101 | æ¡è³¼é€²è²¨ | + | æ¡è³¼å…¥åº«ï¼Œå¢åŠ åº«å­˜ |
| 102 | å®Œå·¥å…¥åº« | + | ç”Ÿç”¢å®Œå·¥å…¥åº«ï¼Œå¢åŠ åº«å­˜ |
| 201 | ç”Ÿç”¢é ˜æ–™ | - | ç”Ÿç”¢é ˜ç”¨åŸæ–™ï¼Œæ¸›å°‘åº«å­˜ |
| 202 | éŠ·å”®å‡ºåº« | - | éŠ·å”®å‡ºè²¨ï¼Œæ¸›å°‘åº«å­˜ |
| 301 | åº«å­˜å ±å»¢ | - | æè€—å ±å»¢ï¼Œæ¸›å°‘åº«å­˜ |

### 6.1 è½‰è­¯è¦å‰‡

```python
TRANSACTION_TYPE_MAP = {
    # æ¡è³¼ç›¸é—œ
    "æ¡è³¼": "101", "è²·": "101", "è²·é€²": "101", "é€²": "101",
    "é€²è²¨": "101", "æ”¶æ–™": "101",
    # å®Œå·¥å…¥åº«
    "å®Œå·¥å…¥åº«": "102", "å…¥åº«": "102",
    # ç”Ÿç”¢é ˜æ–™
    "é ˜æ–™": "201", "ç”Ÿç”¢é ˜æ–™": "201",
    # éŠ·å”®ç›¸é—œ
    "éŠ·å”®": "202", "è³£": "202", "è³£å‡º": "202", "å‡ºè²¨": "202",
    # å ±å»¢
    "å ±å»¢": "301", "å ±æ": "301",
}
```

---

## 7. æ­£é¢è¡¨åˆ—ç­–ç•¥

### 7.1 é—œéµè©åˆ—è¡¨

```python
POSITIVE_KEYWORDS = [
    # æ ¸å¿ƒæ¥­å‹™
    "æ¡è³¼", "è²·", "è³£", "åº«å­˜", "è¨‚å–®", "é€²è²¨", "å‡ºè²¨",
    "æ”¶æ–™", "é ˜æ–™", "å ±å»¢", "ç›¤é»",
    # æ•¸é‡
    "å¤šå°‘", "ç¸½æ•¸", "æ•¸é‡", "åˆè¨ˆ", "ç¸½è¨ˆ",
    # æ™‚é–“
    "ä¸Šæœˆ", "ä¸Šå€‹æœˆ", "å‰æœˆ", "æœ€è¿‘", "ä»Šå¹´", "å»å¹´",
    # æ–™è™Ÿå‰ç¶´
    "10-", "RM", "ABC-", "RM05", "ABC",
    # Data Dictionary
    "æ¬„ä½", "è¡¨æ ¼", "çµæ§‹", "èªªæ˜", "å®šç¾©", "schema",
    # å•å¥é–‹é ­
    "çµ¦æˆ‘çœ‹", "å‘Šè¨´æˆ‘", "æŸ¥è©¢", "é¡¯ç¤º",
]
```

### 7.2 Clarification å“åº”

```python
CLARIFICATION_MESSAGE = (
    "ğŸ’¡ ç„¡æ³•ç†è§£æ‚¨çš„æŸ¥è©¢ï¼Œè«‹ä½¿ç”¨ä»¥ä¸‹é—œéµè©ï¼š"
    "æ¡è³¼ã€åº«å­˜ã€è¨‚å–®ã€æ•¸é‡ã€æ–™è™Ÿç­‰ã€‚"
)
```

---

## 8. æœå‹™éƒ¨ç½²

### 8.1 ç’°å¢ƒè®Šæ•¸

```env
# MM-Agent é…ç½®
MM_AGENT_HOST=0.0.0.0
MM_AGENT_PORT=8005
MM_AGENT_VERSION=4.0.0

# AI-Box Registry
AGENT_REGISTRY_URL=http://localhost:8000
AGENT_REGISTRY_ENABLED=true

# å…¬å…±æœå‹™
QDRANT_URL=http://localhost:6333
ARANGODB_URL=http://localhost:8529
DATALAKE_ENDPOINT=http://localhost:8004
```

### 8.2 Docker éƒ¨ç½²

```dockerfile
FROM python:3.12-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

EXPOSE 8005

CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8005"]
```

---

## 10. LLM é…ç½®

### 10.1 Ollama é…ç½®

| é…ç½®é … | å€¼ |
|--------|-----|
| Provider | Ollama |
| Model | `glm-4.7:cloud` |
| Endpoint | `http://localhost:11434` |
| Temperature | 0.1ï¼ˆä½æº«ï¼Œæé«˜ç¢ºå®šæ€§ï¼‰ |
| Timeout | 60s |

### 10.2 LLM ä½¿ç”¨å ´æ™¯

| å ´æ™¯ | ç”¨é€” | Temperature |
|------|------|-------------|
| èªç¾©åˆ†æ | æ„åœ–åˆ†é¡ã€åƒæ•¸æå– | 0.1 |
| è½‰è­¯ | å°ˆæ¥­è¡“èªè½‰æ› | 0.1 |
| å›è¦†ç”Ÿæˆ | è‡ªç„¶èªè¨€å›è¦† | 0.7 |

### 10.3 Ollama èª¿ç”¨æ–¹å¼

```python
from langchain_ollama import ChatOllama

llm = ChatOllama(
    model="glm-4.7:cloud",
    temperature=0.1,
    base_url="http://localhost:11434",
)

response = llm.invoke("æ ¹æ“šä»¥ä¸‹æ•¸æ“šï¼Œç”¨ç¹é«”ä¸­æ–‡å›è¦†ï¼š...")
```

### 10.4 ç’°å¢ƒè®Šæ•¸

```env
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=glm-4.7:cloud
```

---

## 11. å¯¦ä½œæ¸…å–®

- [ ] 1. æ›´æ–° `main.py` - FastAPI + MCP å…¥å£
- [ ] 2. æ–°å¢ `chain/mm_agent_chain.py` - LangChain å°è©±éˆ
- [ ] 3. å¼·åŒ– `semantic_analyzer.py` - L1 èªç¾©ç†è§£ï¼ˆé›†æˆ Ollamaï¼‰
- [ ] 4. æ–°å¢ `translator.py` - L2 è½‰è­¯å¼•æ“ï¼ˆé›†æˆ Ollamaï¼‰
- [ ] 5. æ–°å¢ `positive_list.py` - L4 æ­£é¢è¡¨åˆ—
- [ ] 6. æ–°å¢ `mcp_handler.py` - MCP Handler
- [ ] 7. æ–°å¢ `requirements.txt` - ä¾è³´ç®¡ç†
- [ ] 8. æ–°å¢ `Dockerfile` - å®¹å™¨åŒ–éƒ¨ç½²
- [ ] 9. æ›´æ–° `api_server.py` - å°æ¥ MM-Agent
- [ ] 10. æ¸¬è©¦ - 100 å€‹æŸ¥è©¢å ´æ™¯

---

## 12. åƒè€ƒæ–‡æª”

- [Agent-é–‹ç™¼è¦ç¯„.md](../../../../../../docs/ç³»ç»Ÿè®¾è®¡æ–‡æ¡£/æ ¸å¿ƒç»„ä»¶/Agentå¹³å°/Agent-é–‹ç™¼è¦ç¯„.md)
- [åº«ç®¡å“¡-Agent-è¦æ ¼æ›¸-v3](åº«ç®¡å“¡-Agent-è¦æ ¼æ›¸-v3.md)

---

## 9. äº¤ä»˜æ¨™æº–

Agent çš„å›è¦†æ‡‰å…·å‚™å°ˆæ¥­å£å»ï¼š

**ç”¨æˆ¶å•**ï¼šã€ŒRM05-008 ä¸Šæœˆè²·é€²å¤šå°‘ã€
**Agent å›è¦†**ï¼š
> ã€ŒRM05-008 åœ¨ä¸Šæœˆï¼ˆ2025-12ï¼‰æ¡è³¼é€²è²¨å…± **5,000 KG**ã€‚
> - äº¤æ˜“é¡åˆ¥ï¼štlf19=101ï¼ˆæ¡è³¼é€²è²¨ï¼‰
> - æ•¸æ“šä¾†æºï¼štlf_fileã€

**ç”¨æˆ¶å•**ï¼šã€Œåº«å­˜é‚„æœ‰å¤šå°‘ã€
**Agent å›è¦†**ï¼š
> ã€ŒğŸ’¡ ç„¡æ³•ç†è§£æ‚¨çš„æŸ¥è©¢ï¼Œè«‹æä¾›æ–™è™Ÿï¼ˆä¾‹å¦‚ï¼šRM05-008ï¼‰ã€‚ã€

ä¸åœ¨æ­£é¢è¡¨åˆ—å…§ï¼Œè¿”å›æ¾„æ¸…æç¤ºï¼š
> ğŸ’¡ ç„¡æ³•ç†è§£æ‚¨çš„æŸ¥è©¢ï¼Œè«‹ä½¿ç”¨ä»¥ä¸‹é—œéµè©ï¼šæ¡è³¼ã€åº«å­˜ã€è¨‚å–®ã€æ•¸é‡ç­‰ã€‚

---

## 6. äº¤ä»˜æ¨™æº–

Agent çš„å›è¦†æ‡‰å…·å‚™å°ˆæ¥­å£å»ï¼š

**ç”¨æˆ¶å•**ï¼šã€ŒRM05-008 ä¸Šæœˆè²·é€²å¤šå°‘ã€
**Agent å›è¦†**ï¼š
> ã€ŒRM05-008 åœ¨ä¸Šæœˆï¼ˆ2025-12ï¼‰æ¡è³¼é€²è²¨å…± **5,000 KG**ã€‚
> äº¤æ˜“é¡åˆ¥ï¼štlf19=101ï¼ˆæ¡è³¼é€²è²¨ï¼‰
> æ•¸æ“šä¾†æºï¼štlf_fileã€

---

## 7. æ–‡ä»¶çµæ§‹

```
datalake-system/
â”œâ”€â”€ mm_agent/
â”‚   â”œâ”€â”€ agent.py              # ä¸»é‚è¼¯ + Todo ç·¨æ’
â”‚   â”œâ”€â”€ semantic_analyzer.py  # èªç¾©è§£æ
â”‚   â”œâ”€â”€ translator.py         # æ–°å¢ï¼šè½‰è­¯å¼•æ“
â”‚   â””â”€â”€ models.py             # æ•¸æ“šæ¨¡å‹
â”‚
â””â”€â”€ frontend/
    â””â”€â”€ api_server.py         # API æ¥å£ + æ­£é¢è¡¨åˆ—
```
