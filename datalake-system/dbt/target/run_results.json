{"metadata": {"dbt_schema_version": "https://schemas.getdbt.com/dbt/run-results/v6.json", "dbt_version": "1.11.4", "generated_at": "2026-02-17T14:40:54.515802Z", "invocation_id": "0dd0da4f-ab01-4d92-93b4-330a5e0ea0d6", "invocation_started_at": "2026-02-17T14:40:50.499140Z", "env": {}}, "results": [{"status": "error", "timing": [{"name": "compile", "started_at": "2026-02-17T14:40:50.808246Z", "completed_at": "2026-02-17T14:40:50.827677Z"}, {"name": "execute", "started_at": "2026-02-17T14:40:50.828025Z", "completed_at": "2026-02-17T14:40:54.506744Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 3.7024459838867188, "adapter_response": {}, "message": "Runtime Error in model mart_work_order_wide (models/marts/mart_work_order_wide.sql)\n  HTTP Error: HTTP GET error reading 's3://tiptop-raw/raw/v1/tiptop_jp/SFAA_T/year=/?encoding-type=url&list-type=2&prefix=raw%2Fv1%2Ftiptop_jp%2FSFAA_T%2Fyear%3D' in region '' (HTTP 404 Not Found)\n  \n  LINE 49:     FROM read_parquet('s3://tiptop-raw/raw/v1/tiptop_jp/SFAA_T/year...\n                    ^", "failures": null, "unique_id": "model.tiptop_jp.mart_work_order_wide", "compiled": true, "compiled_code": "-- mart_work_order_wide.sql\n-- \u4ee3\u78bc\u529f\u80fd\u8aaa\u660e: \u5de5\u55ae\u5bec\u8868 - \u5408\u4f75\u5de5\u55ae\u982d\u6a94\u3001\u5ba2\u6236\u4e3b\u6a94\u3001\u7269\u6599\u4e3b\u6a94\u3001\u5de5\u4f5c\u7ad9\u8cc7\u6599\n-- \u5275\u5efa\u65e5\u671f: 2026-02-13\n-- \u5275\u5efa\u4eba: Daniel Chung\n-- \u66f4\u65b0\u65e5\u671f: 2026-02-17\n-- \u66f4\u65b0\u4eba: AI Assistant (\u65b0\u589e workstation \u6b04\u4f4d)\n\n\n\n-- \u5f9e S3 Parquet \u8b80\u53d6\u5de5\u55ae\u8cc7\u6599\nWITH source_work_order AS (\n    SELECT\n        -- SFAA_T \u5de5\u55ae\u982d\u6a94\u6b04\u4f4d\n        SFAAENT AS ent,\n        SFAASITE AS site,\n        SFAA010 AS item_no,\n        SFAA056 AS scrap_qty,\n        SFAA022 AS so_order,\n        SFAA023 AS so_line,\n        SFAA024 AS order_line_sn,\n        SFAA025 AS order_batch_seq,\n        SFAA009 AS customer_no,\n        SFAA034 AS location_no,\n        SFAA035 AS warehouse_no,\n        SFAASTUS AS status,\n\n        -- OOEFT_T \u5ba2\u6236\u4e3b\u6a94\u6b04\u4f4d (LEFT JOIN)\n        ooef001 AS oo_customer_no,\n        ooef011 AS customer_name,\n        ooef017 AS customer_short_name,\n\n        -- MA_T \u7269\u6599\u4e3b\u6a94\u6b04\u4f4d (LEFT JOIN)\n        ma001 AS ma_item_no,\n        ma002 AS item_name,\n        ma003 AS item_spec,\n\n        -- SFCB_T \u5de5\u4f5c\u7ad9\u8cc7\u6599\u6b04\u4f4d (LEFT JOIN)\n        sfcb011 AS workstation\n    FROM read_parquet('s3://tiptop-raw/raw/v1/tiptop_jp/SFAA_T/year=*/month=*/data.parquet', hive_partitioning=true)\n    LEFT JOIN (\n        SELECT\n            ooef001,\n            ooef011,\n            ooef017\n        FROM read_parquet('s3://tiptop-raw/raw/v1/tiptop_jp/OEEF_T/year=*/month=*/data.parquet', hive_partitioning=true)\n    ) ON SFAA009 = ooef001\n    LEFT JOIN (\n        SELECT\n            ma001,\n            ma002,\n            ma003\n        FROM read_parquet('s3://tiptop-raw/raw/v1/tiptop_jp/MA_T/year=*/month=*/data.parquet', hive_partitioning=true)\n    ) ON SFAA010 = ma001\n    LEFT JOIN (\n        SELECT\n            sfcb011\n        FROM read_parquet('s3://tiptop-raw/raw/v1/tiptop_jp/SFCB_T/year=*/month=*/data.parquet', hive_partitioning=true)\n    ) ON SFAA010 = sfcb011  -- \u95dc\u806f\u5de5\u55ae\u8207\u5de5\u4f5c\u7ad9\n),\n\nwork_order_with_ranking AS (\n    SELECT\n        *,\n        ROW_NUMBER() OVER (PARTITION BY item_no ORDER BY status DESC) AS rn\n    FROM source_work_order\n)\n\nSELECT\n    md5(cast(coalesce(cast(item_no as TEXT), '_dbt_utils_surrogate_key_null_') || '-' || coalesce(cast(customer_no as TEXT), '_dbt_utils_surrogate_key_null_') || '-' || coalesce(cast(status as TEXT), '_dbt_utils_surrogate_key_null_') as TEXT)) AS work_order_key,\n    item_no,\n    customer_no,\n    customer_name,\n    customer_short_name,\n    ma_item_no,\n    item_name,\n    item_spec,\n    warehouse_no,\n    location_no,\n    status,\n    scrap_qty,\n    so_order,\n    so_line,\n    workstation,\n    CURRENT_TIMESTAMP() AS _dbtloadedat\nFROM work_order_with_ranking\nWHERE rn = 1\n\n", "relation_name": "\"tiptop_jp\".\"main_mart\".\"mart_work_order_wide\"", "batch_results": null}], "elapsed_time": 3.775850772857666, "args": {"require_ref_searches_node_package_before_root": false, "require_batched_execution_for_custom_microbatch_strategy": false, "full_refresh": true, "require_yaml_configuration_for_mf_time_spines": false, "which": "run", "version_check": true, "log_level": "info", "require_unique_project_resource_names": false, "source_freshness_run_project_hooks": true, "quiet": false, "partial_parse": true, "state_modified_compare_vars": false, "invocation_command": "dbt run -s mart_work_order_wide --full-refresh", "validate_macro_args": false, "exclude": [], "log_format": "default", "defer": false, "print": true, "macro_debugging": false, "vars": {}, "upload_to_artifacts_ingest_api": false, "log_level_file": "debug", "require_nested_cumulative_type_params": false, "project_dir": "/home/daniel/ai-box/datalake-system/dbt", "require_generic_test_arguments_property": true, "select": ["mart_work_order_wide"], "show_resource_report": false, "skip_nodes_if_on_run_start_fails": false, "warn_error_options": {"error": [], "warn": [], "silence": []}, "empty": false, "use_colors": true, "introspect": true, "write_json": true, "strict_mode": false, "cache_selected_only": false, "use_fast_test_edges": false, "printer_width": 80, "show_all_deprecations": false, "favor_state": false, "log_path": "/home/daniel/ai-box/datalake-system/dbt/logs", "partial_parse_file_diff": true, "require_explicit_package_overrides_for_builtin_materializations": true, "use_colors_file": true, "profiles_dir": "/home/daniel/.dbt", "log_format_file": "debug", "indirect_selection": "eager", "require_resource_names_without_spaces": true, "state_modified_compare_more_unrendered_values": false, "populate_cache": true, "static_parser": true, "require_all_warnings_handled_by_warn_error": false, "send_anonymous_usage_stats": true, "log_file_max_bytes": 10485760}}