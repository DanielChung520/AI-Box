# AI-Box 環境配置範例
# 複製此文件為 .env 並根據實際情況修改配置

# ==================== API 服務器配置 ====================
# API 服務器主機地址（默認: 0.0.0.0）
API_GATEWAY_HOST=0.0.0.0

# API 服務器端口（默認: 8000）
API_GATEWAY_PORT=8000

# 環境模式（development/production）
ENV=development

# ==================== CORS 配置 ====================
# CORS 允許的來源（多個來源用逗號分隔，默認: * 允許所有）
# 開發環境建議: http://localhost:3000,http://127.0.0.1:3000
# 生產環境建議: https://your-domain.com
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ==================== 日誌配置 ====================
# 日誌級別（DEBUG/INFO/WARNING/ERROR）
LOG_LEVEL=INFO

# ==================== 安全配置 ====================
# 是否啟用安全中間件（true/false）
SECURITY_ENABLED=false

# systemAdmin 密碼（用於上架腳本等，如 scripts/upload_ka_agent_knowledge.py）
# 可選；未設定時須以 --password 傳入或環境變數 SYSTEADMIN_PASSWORD 傳入
# SYSTEADMIN_PASSWORD=

# ==================== 數據庫配置 ====================
# ArangoDB 配置
ARANGO_HOST=localhost
ARANGO_PORT=8529
ARANGO_USER=root
ARANGO_PASSWORD=
ARANGO_DB=ai_box

# Redis 配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ChromaDB 配置
CHROMA_HOST=localhost
CHROMA_PORT=8000

# ==================== LLM 配置 ====================
# Ollama 配置
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2

# ==================== MCP Server 配置 ====================
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8002

# ==================== Cloudflare MCP Gateway 配置 ====================
# Gateway 端點 URL（用於前端註冊時自動填充）
# 默認: https://mcp.k84.org
MCP_GATEWAY_ENDPOINT=https://mcp.k84.org

# Gateway 路由配置（JSON 格式，與 wrangler.toml 中的 MCP_ROUTES 同步）
# 格式: [{"pattern": "工具名稱模式", "target": "目標 MCP Server URL"}]
# 示例:
# MCP_GATEWAY_ROUTES=[{"pattern":"warehouse_*","target":"https://182740a0a99a.ngrok-free.app"},{"pattern":"yahoo_finance_*","target":"https://smithery.ai/server/@tsmdev-ux/yahoo-finance-mcp"}]
#
# 注意：
# 1. 此配置需要與 Cloudflare Workers 的 wrangler.toml 中的 MCP_ROUTES 保持同步
# 2. 當 Gateway 路由配置更新時，需要同步更新此環境變數
# 3. JSON 格式必須正確，否則會導致查詢失敗
MCP_GATEWAY_ROUTES=[]

# ==================== 前端配置 ====================
# 前端開發服務器端口（默認: 3000）
FRONTEND_PORT=3000

# 前端 API 基礎 URL（用於前端環境變量）
VITE_API_BASE_URL=http://localhost:8000

# ==================== Agent Secret 配置 ====================
# 測試用 Secret ID（用於外部 Agent 註冊測試）
# 此 Secret 會在系統啟動時自動加載到 Secret Manager
# 注意：請在 .env 文件中配置實際的 Secret ID/Key，不要使用示例值
AGENT_SECRET_ID=aibox-test-1764743150-1fc4e7ed

# 測試用 Secret Key（用於外部 Agent 註冊測試）
# 警告：請妥善保管，不要提交到版本控制系統
# 此 Secret Key 只在系統啟動時使用，不會存儲在代碼中
AGENT_SECRET_KEY=JpPMAnB655E9rW50sKW4PaGVciRP4vpvUEzRnJ6i9y0

# ==================== Web 搜索工具配置 ====================
# 注意：至少需要配置一個搜索提供商才能使用 Web 搜索功能
# 優先級順序：Serper.dev > SerpAPI > ScraperAPI > Google CSE

# Serper.dev API Key（首選，便宜快速）
# 獲取地址: https://serper.dev/api-key
# 文檔參考: docs/系统设计文档/tools/Web搜索工具实现说明.md
SERPER_API_KEY=

# SerpAPI API Key（備用，功能全）
# 獲取地址: https://serpapi.com/
# 文檔參考: docs/系统设计文档/tools/Web搜索工具实现说明.md
SERPAPI_API_KEY=

# ScraperAPI API Key（備用，大量爬取）
# 獲取地址: https://www.scraperapi.com/
# 文檔參考: docs/系统设计文档/tools/Web搜索工具实现说明.md
SCRAPER_API_KEY=

# Google Custom Search Engine API Key（最後備用，官方但貴）
# 獲取地址: https://console.cloud.google.com/
# 文檔參考: docs/系统设计文档/tools/Web搜索工具实现说明.md
GOOGLE_CSE_API_KEY=

# Google Custom Search Engine ID（與 GOOGLE_CSE_API_KEY 配對使用）
# 獲取地址: https://cse.google.com/
# 文檔參考: docs/系统设计文档/tools/Web搜索工具实现说明.md
GOOGLE_CSE_CX=

# ==================== SeaweedFS 配置 ====================
# AI-Box 項目的 SeaweedFS 配置
AI_BOX_SEAWEEDFS_S3_ENDPOINT=http://seaweedfs-ai-box-filer:8333
AI_BOX_SEAWEEDFS_S3_ACCESS_KEY=change-me-access-key
AI_BOX_SEAWEEDFS_S3_SECRET_KEY=change-me-secret-key
AI_BOX_SEAWEEDFS_USE_SSL=false
AI_BOX_SEAWEEDFS_FILER_ENDPOINT=http://seaweedfs-ai-box-filer:8888

# DataLake 項目的 SeaweedFS 配置
DATALAKE_SEAWEEDFS_S3_ENDPOINT=http://seaweedfs-datalake-filer:8333
DATALAKE_SEAWEEDFS_S3_ACCESS_KEY=change-me-access-key
DATALAKE_SEAWEEDFS_S3_SECRET_KEY=change-me-secret-key
DATALAKE_SEAWEEDFS_USE_SSL=false
DATALAKE_SEAWEEDFS_FILER_ENDPOINT=http://seaweedfs-datalake-filer:8888

# ==================== Data Agent Service 配置 ====================
# Data Agent 服務主機地址（默認: localhost）
DATA_AGENT_SERVICE_HOST=localhost

# Data Agent 服務端口（默認: 8004）
DATA_AGENT_SERVICE_PORT=8004

# AI-Box API URL（用於服務註冊，默認: http://localhost:8000）
AI_BOX_API_URL=http://localhost:8000
