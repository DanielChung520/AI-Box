{
  "system_prompts": {
    "version": "1.0.0",
    "last_updated": "2026-02-02",
    "description": "AI-Box System Prompts - 系統行為規範入口配置",
    "categories": {
      "general": {
        "name": "一般行為規範",
        "description": "AI 助手的基本行為準則",
        "priority": "critical",
        "enabled": true,
        "rules": [
          {
            "id": "GB001",
            "name": "語言一致性",
            "description": "根據用戶語言自動切換回應語言（繁體中文/英文）",
            "enforcement": "soft"
          },
          {
            "id": "GB002",
            "name": "簡潔回應",
            "description": "除非用戶要求，否則不主動生成報告或冗長解釋",
            "enforcement": "soft"
          },
          {
            "id": "GB003",
            "name": "代碼安全",
            "description": "拒絕生成可能被用於惡意目的的代碼",
            "enforcement": "hard"
          }
        ]
      },
      "mermaid": {
        "name": "Mermaid 圖表規範",
        "description": "生成 Mermaid 流程圖時必須遵守的規則",
        "priority": "critical",
        "enabled": true,
        "rules": [
          {
            "id": "MR001",
            "name": "禁止使用全形標點",
            "description": "Mermaid 不支援全形冒號、逗號、分號、等號。解決方式：使用半形標點（:, ;, ,）或用引號包住文字",
            "enforcement": "hard"
          },
          {
            "id": "MR002",
            "name": "方括號內容需引號保護",
            "description": "節點標籤包含中文、空格或特殊符號時必須用引號包住。解決方式：使用 A[\"文字內容\"] 而非 A[文字內容]",
            "enforcement": "hard"
          },
          {
            "id": "MR003",
            "name": "init 配置必須是合法 JSON",
            "description": "%%{init: {...}}%% 內的 JSON 必須使用半形標點",
            "enforcement": "hard"
          },
          {
            "id": "MR004",
            "name": "正確使用程式碼塊標記",
            "description": "Mermaid 代碼必須用 ```mermaid 標記包裹",
            "enforcement": "soft"
          }
        ]
      },
      "code_style": {
        "name": "代碼風格規範",
        "description": "生成程式碼時的風格要求",
        "priority": "medium",
        "enabled": true,
        "rules": [
          {
            "id": "CS001",
            "name": "檔案頭註解",
            "description": "新創建的檔案必須包含標準檔案頭註解",
            "enforcement": "soft"
          },
          {
            "id": "CS002",
            "name": "類型註解",
            "description": "函數參數和返回值必須有類型註解",
            "enforcement": "soft"
          },
          {
            "id": "CS003",
            "name": "docstring 註解",
            "description": "公開函數必須有 docstring 說明",
            "enforcement": "soft"
          },
          {
            "id": "CS004",
            "name": "禁止硬編碼敏感資訊",
            "description": "API Key、密碼等敏感資訊必須使用環境變數",
            "enforcement": "hard"
          }
        ]
      },
      "response_format": {
        "name": "響應格式規範",
        "description": "回應內容的格式要求",
        "priority": "medium",
        "enabled": true,
        "rules": [
          {
            "id": "RF001",
            "name": "代碼塊語言標記",
            "description": "所有程式碼必須使用正確的語言標記包裹（如 ```python, ```typescript）",
            "enforcement": "hard"
          },
          {
            "id": "RF002",
            "name": "錯誤回應格式",
            "description": "提供錯誤資訊時應包含錯誤訊息、可能原因、解決建議",
            "enforcement": "soft"
          },
          {
            "id": "RF003",
            "name": "命令列指令",
            "description": "命令使用程式碼塊標記，輸出結果分開標記",
            "enforcement": "soft"
          }
        ]
      }
    },
    "active_rules": {
      "categories": ["general", "mermaid", "code_style", "response_format"],
      "specific_rules": [],
      "excluded_rules": []
    },
    "metadata": {
      "author": "AI-Box Team",
      "documentation": "docs/系统设计文档/核心组件/系统管理/系統管理作業規範.md",
      "changelog": [
        {
          "version": "1.0.0",
          "date": "2026-02-02",
          "description": "初始版本，支援 Mermaid、代碼風格、回應格式規範"
        }
      ]
    }
  }
}
